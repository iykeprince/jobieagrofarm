(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[117],{1756:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/transactions",function(){return a(1542)}])},143:function(e,s,a){"use strict";var t=a(5893),n=a(1664),r=a.n(n),l=a(6794),i=a.n(l);let c=e=>{let{disabled:s,link:a,to:n,className:l,onClick:c,children:_}=e;return a?(0,t.jsx)(r(),{href:n,className:" ".concat(l," "),children:(0,t.jsx)("span",{children:_})}):(0,t.jsx)("button",{disabled:s,onClick:c,className:" ".concat(l," ").concat(i().button),children:_})};s.Z=c},1596:function(e,s,a){"use strict";var t=a(5893),n=a(7294);let r=e=>{let s=e.productsPerPage,a=e.totalProducts,r=Math.ceil(a/s),[l,i]=(0,n.useState)(1),c=()=>{1!==l&&(i(e=>e-1),e.onChange(l-1))},_=()=>{l!==r&&(i(e=>e+1),e.onChange(l+1))};return(0,t.jsx)("nav",{"aria-label":"Page navigation example",children:(0,t.jsxs)("ul",{class:"pagination justify-content-center",children:[(0,t.jsx)("li",{class:"page-item",onClick:l<=1?null:c,children:(0,t.jsx)("a",{class:"page-link ".concat(l<=1&&"disabled"),href:"#",children:"Previous"})}),Array.from({length:r},(e,s)=>s+1).map(s=>(0,t.jsx)("li",{class:"page-item",onClick(){e.onChange(s),i(e=>s)},children:(0,t.jsx)("a",{class:"page-link",href:"#",children:s})},s)),(0,t.jsx)("li",{class:"page-item",onClick:l>=r?null:_,children:(0,t.jsx)("a",{class:"page-link ".concat(l>r&&"disabled"),href:"#",children:"Next"})})]})})};s.Z=r},3057:function(e,s,a){"use strict";a.d(s,{Z:function(){return u}});var t=a(5893),n=a(3790),r=a.n(n),l=a(1163),i=a(1664),c=a.n(i),_=a(5697),o=a.n(_);let d=e=>{let{href:s,exact:a,children:n,...r}=e,{pathname:i}=(0,l.useRouter)(),_=a?i===s:i.startsWith(s);return _&&(r.className+=" activeNav"),(0,t.jsx)(c(),{href:s,legacyBehavior:!0,children:(0,t.jsx)("a",{...r,children:n})})};d.propTypes={href:o().string.isRequired,exact:o().bool},d.defaultProps={exact:!1};let h=()=>(0,t.jsxs)("ul",{className:r().nav,children:[(0,t.jsx)("li",{children:(0,t.jsx)(d,{href:"/user",exact:!0,className:r().nav__list,children:"Profile"})}),(0,t.jsx)("li",{className:r().nav__list,children:(0,t.jsx)(d,{href:"/user/orders",exact:!0,className:r().nav__list,children:"Orders"})}),(0,t.jsx)("li",{className:r().nav__list,children:(0,t.jsx)(d,{href:"/user/transactions",exact:!0,className:r().nav__list,children:"Transactions"})})]});var u=h},1542:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return C}});var t=a(5893),n=a(7294),r=a(4260),l=a(7823),i=a(3057),c=a(5096),_=a(1102),o=a.n(_),d=a(3247),h=a(9473),u=a(1596),x=a(4438),p=a(143),m=a(9992),j=a.n(m);let v=e=>{let{invalid:s,label:a,...n}=e;return(0,t.jsxs)("div",{className:"".concat(e.className," ").concat(j().input__group),children:[(0,t.jsx)("label",{className:j().label,children:a}),(0,t.jsx)("input",{...n,className:"".concat(s?"".concat(j().invalid):""," ").concat(j().input)})]})};var N=a(3595),f=a.n(N);let b=()=>{let[e,s]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),l=(0,h.I0)(),i=s=>{s.preventDefault();let t=new Date(e),n=new Date(a);l(x.a.filterByDate({startDate:t,endDate:n}))};return(0,t.jsxs)("form",{className:f().form,onSubmit:i,children:[(0,t.jsx)("div",{className:"input-group mx-2",children:(0,t.jsx)(v,{type:"date",label:"From",value:e,onChange:e=>s(e.target.value),required:!0})}),(0,t.jsx)("div",{className:"input-group mx-2",children:(0,t.jsx)(v,{type:"date",label:"To",value:a,onChange:e=>r(e.target.value),required:!0})}),(0,t.jsx)("div",{children:(0,t.jsx)(p.Z,{type:"submit",className:"btn btn-dark mx-2",children:"Filter"})})]})};var g=a(1415),T=a.n(g);let P=e=>{let{details:s}=e,{email:a,phone:n,amount:r,status:l,paymentType:i,date:c}=s;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("tr",{className:T().tr,children:[(0,t.jsx)("td",{className:T().td,children:c}),(0,t.jsx)("td",{className:T().td,children:a}),(0,t.jsx)("td",{className:T().td,children:n}),(0,t.jsx)("td",{className:T().td,children:r}),(0,t.jsx)("td",{className:T().td,children:l}),(0,t.jsx)("td",{className:T().td,children:"".concat(i).toUpperCase()})]})})},U=()=>{let{transactions:e,filteredTransactions:s,noTransaction:a}=(0,h.v9)(e=>e.products),r=s.length>0?s:e,[l,i]=(0,n.useState)(0),c=e=>{i(s=>2*e-2)};return(0,t.jsxs)("section",{children:[(0,t.jsxs)("div",{className:T().top,children:[(0,t.jsx)("h3",{className:"display-4 lead",children:"All Transactions"}),(0,t.jsx)("div",{className:T().search__box,children:(0,t.jsx)(b,{})})]}),(0,t.jsx)("div",{className:"table-responsive my-4",children:a?(0,t.jsx)("p",{className:T().no__transaction,children:"No trasanction is within the range of the given date!"}):(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:T().tr,children:[(0,t.jsx)("th",{className:T().th,children:"Date"}),(0,t.jsx)("th",{className:T().th,children:"Email"}),(0,t.jsx)("th",{className:T().th,children:"Phone Number"}),(0,t.jsx)("th",{className:T().th,children:"Amount"}),(0,t.jsx)("th",{className:T().th,children:"Status"}),(0,t.jsx)("th",{className:T().th,children:"Payment Type"})]})}),(0,t.jsx)("tbody",{children:null==r?void 0:r.slice(l,l+2).map(e=>(0,t.jsx)(P,{details:e},e.id))})]})}),(0,t.jsx)("div",{className:"mb-4",children:!a&&r.length>0&&(0,t.jsx)(u.Z,{totalProducts:r.length,productsPerPage:2,onChange:c})})]})};var k=a(2583);let y=()=>{let e=(0,h.I0)(),{authUser:s}=(0,c.a)();return(0,n.useEffect)(()=>{(async()=>{let a=(0,d.hJ)(k.db,"transactions"),t=await (0,d.PL)(a),n=t.docs.map(e=>{let s=e.data();return s.id=e.id,s}),r=n.filter(e=>e.email===(null==s?void 0:s.email));e(x.a.addTransactions({transactions:r}))})()},[e,s]),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Z,{}),(0,t.jsx)("div",{className:"p-10"}),(0,t.jsx)("div",{className:o().head,children:(0,t.jsx)(i.Z,{})}),(0,t.jsx)("div",{className:"container",children:(0,t.jsx)(U,{})}),(0,t.jsx)(r.Z,{})]})};var C=y},9992:function(e){e.exports={input__group:"Input_input__group__o2fDz",label:"Input_label__LqPyr",input:"Input_input__j5282"}},3595:function(e){e.exports={form:"Search_form__piUvx",button:"Search_button__h6Ktl"}},1415:function(e){e.exports={desktop:"Transactions_desktop__yoFeE",mobile:"Transactions_mobile__Uk3PR",top:"Transactions_top__MbHoL",heading:"Transactions_heading__srKA5",search__box:"Transactions_search__box__f73Uv",table:"Transactions_table__EiikJ",tr:"Transactions_tr__dnfbz",th:"Transactions_th__W9wr_",td:"Transactions_td__X_yz8",no__transaction:"Transactions_no__transaction__zCviW",h3:"Transactions_h3__0QPrn",ul:"Transactions_ul__Lgp8O",li:"Transactions_li__dIpl_"}},3790:function(e){e.exports={input__group:"UserInput_input__group__1_9uZ",label:"UserInput_label__hrWpX",input:"UserInput_input__Fc1Bk",nav:"UserInput_nav__HumbZ",nav__list:"UserInput_nav__list__MeSnC"}},1102:function(e){e.exports={head:"User_head__6p2PJ",container:"User_container__X5vad",left:"User_left__cZ35A",icon__box:"User_icon__box__pmjRB",icon:"User_icon__mKO16",profile__details:"User_profile__details__lbNc2",p:"User_p__lt1DB",span:"User_span__maLOu",right:"User_right__YnWrp"}},6794:function(e){e.exports={button:"Button_button__HxzDS"}}},function(e){e.O(0,[210,115,667,774,888,179],function(){return e(e.s=1756)}),_N_E=e.O()}]);